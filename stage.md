# 画册功能模块分阶段开发提示词

## 第一阶段：核心功能MVP

### 目标：实现画册基本创建、编辑、保存流程

### 1. 项目初始化与基础框架
```
请基于微信小程序原生框架，创建画册模块的工程结构。要求：
1. 将画册模块设置为独立分包，路径为：`subpackages/album/`
2. 创建以下基础页面：
   - album-home: 画册模块首页
   - album-editor: 画册编辑页（核心页面）
   - album-preview: 画册预览页
3. 配置tabBar，在首页添加画册模块入口图标
4. 建立模块间跳转路由配置
```

### 2. 画册编辑器基础实现
```
请实现画册编辑器的核心交互功能：
1. 使用canvas或WebGL实现画布区域，支持多图层管理
2. 实现图片基础操作：
   - 拖拽移动
   - 缩放（双指/按钮）
   - 旋转（手势/按钮）
   - 删除
3. 实现文字添加与编辑：
   - 添加文本框
   - 修改文字内容
   - 调整字体大小、颜色
4. 实现页面管理：
   - 添加/删除页面
   - 页面顺序调整
   - 页面缩略图预览
5. 数据持久化：使用本地存储保存画册草稿
```

### 3. 图片处理与上传
```
请实现图片处理相关功能：
1. 图片选择器：支持从相册选择多张图片
2. 图片上传：将图片上传至云存储，返回临时URL
3. 图片压缩：上传前对图片进行适当压缩，平衡质量与大小
4. 图片裁剪：实现基本的裁剪功能（固定比例/自由裁剪）
```

### 4. 基础模板系统
```
请实现基础的模板功能：
1. 创建3-5个基础模板（旅游、家庭、简约等）
2. 模板数据结构设计：包含页面布局、占位图片、文字样式等
3. 模板应用：选择模板后自动填充到画布
4. 模板预览：在模板选择页显示缩略图
```

### 5. 模块入口与导航
```
请实现画册模块与主应用的集成：
1. 在主应用首页功能列表添加画册入口
2. 实现统一的用户认证（与主应用共用登录态）
3. 实现模块间跳转传参（如从相册模块传递图片到画册编辑）
4. 统一的错误处理与加载状态
```

## 第二阶段：功能完善与优化

### 目标：丰富编辑功能，提升用户体验

### 1. 高级编辑工具
```
请扩展画册编辑器的功能：
1. 图层管理面板：
   - 显示当前页面所有元素列表
   - 调整图层顺序（上移/下移）
   - 显示/隐藏图层
2. 样式库系统：
   - 提供多种字体选择
   - 预设颜色方案
   - 添加边框、阴影等样式
3. 背景设置：
   - 纯色背景
   - 渐变背景
   - 预设背景图片
4. 装饰元素：
   - 添加贴纸/图标库
   - 添加形状（圆形、矩形等）
   - 添加线条和手绘元素
```

### 2. 模板商城与分类
```
请完善模板系统：
1. 模板分类管理：
   - 按场景分类（旅行、婚礼、宝宝等）
   - 按风格分类（简约、复古、商务等）
   - 按页数分类（单页、多页）
2. 模板搜索与筛选：
   - 关键词搜索
   - 多条件筛选
3. 模板收藏功能：
   - 用户可收藏常用模板
   - 收藏夹管理
4. 模板预览优化：
   - 动态预览效果
   - 模板详情页
```

### 3. 分享与导出功能
```
请实现画册分享与导出：
1. 多种分享方式：
   - 生成小程序分享卡片
   - 生成海报图片（含小程序码）
   - 直接分享给微信好友/群
2. 导出功能：
   - 导出为图片合集（长图）
   - 导出为PDF（基础版）
   - 分享链接（在线查看）
3. 访问权限设置：
   - 公开访问（无需登录）
   - 私密访问（需密码）
   - 指定好友访问
```

### 4. 性能优化
```
请优化画册模块的性能：
1. 图片懒加载：列表页图片滚动加载
2. 缓存策略：
   - 模板数据缓存
   - 常用图片缓存
3. 编辑器性能：
   - 限制单页面元素数量
   - 操作防抖处理
   - 大画册分页加载
4. 内存管理：
   - 及时清理不用的图片资源
   - 优化canvas渲染
```

## 第三阶段：高级功能与协作

### 目标：实现协作功能，完善云服务

### 1. 云同步与备份
```
请实现云同步功能：
1. 用户数据同步：
   - 使用云开发数据库存储画册元数据
   - 自动同步画册到云端
   - 冲突解决策略（最后修改优先）
2. 多设备支持：
   - 登录后自动同步画册列表
   - 支持从任意设备继续编辑
3. 版本历史：
   - 保存重要版本快照
   - 支持版本回退
```

### 2. 协作编辑功能
```
请实现多人协作功能：
1. 协作邀请：
   - 生成邀请链接/二维码
   - 设置协作权限（查看/编辑）
2. 实时协作（可选，较复杂）：
   - 显示在线协作者光标
   - 操作冲突解决
3. 异步协作：
   - 评论与批注功能
   - 更改记录查看
4. 协作管理：
   - 添加/移除协作者
   - 权限变更
```

### 3. 智能功能
```
请实现AI辅助功能：
1. 智能排版：
   - 一键自动排版（基于选中的图片）
   - 智能配文建议
2. 主题识别：
   - 自动识别图片主题推荐模板
   - 智能配色建议
3. 批量处理：
   - 批量应用样式
   - 批量替换图片
```

### 4. 数据分析与推荐
```
请实现用户行为分析：
1. 使用统计：
   - 记录模板使用频率
   - 记录常用功能
   - 记录完成率
2. 个性化推荐：
   - 基于历史使用推荐模板
   - 基于场景推荐功能
3. 画册质量评分：
   - 提供完成度建议
   - 提供优化建议
```

## 第四阶段：商业化与生态扩展

### 目标：实现商业化功能，深度集成生态

### 1. 付费功能实现
```
请实现商业化功能：
1. 会员体系：
   - 免费版功能限制（画册数量、模板数量）
   - 付费版功能解锁
2. 付费点设计：
   - 高级模板库
   - 高级编辑工具
   - 更多云存储空间
   - 高清无水印导出
3. 支付集成：
   - 微信支付接入
   - 购买记录管理
   - 会员状态同步
```

### 2. 内容管理与审核
```
请实现内容管理功能：
1. 用户生成内容审核：
   - 敏感内容自动检测
   - 人工审核后台
2. 社区功能（可选）：
   - 模板市场（用户上传模板）
   - 画册作品展示
3. 举报与处理：
   - 用户举报机制
   - 违规内容处理流程
```

### 3. 生态集成
```
请实现与小程序其他模块的深度集成：
1. 数据互通：
   - 从相册模块批量导入图片
   - 从日历模块导入事件创建纪念册
2. 社交功能：
   - 画册点赞/评论
   - 画册挑战/活动
3. 外部服务：
   - 连接打印服务（在线印刷）
   - 连接社交平台（微博、抖音分享）
```

### 4. 管理后台
```
请为画册模块开发管理后台：
1. 数据统计面板：
   - 用户增长数据
   - 功能使用数据
   - 付费转化数据
2. 内容管理：
   - 模板上架/下架
   - 用户举报处理
   - 内容审核队列
3. 系统配置：
   - 功能开关配置
   - 运营活动配置
   - AB测试配置
```

## 各阶段技术栈建议

### 第一阶段技术栈
- 微信小程序原生框架
- 本地存储（wx.setStorage）
- 基础canvas API

### 第二阶段技术栈
- 引入组件库（Vant Weapp或自定义组件）
- 云开发（存储、数据库）
- 图片处理库（如we-cropper）

### 第三阶段技术栈
- WebSocket（实时协作）
- AI服务接口（智能功能）
- 版本控制系统设计

### 第四阶段技术栈
- 微信支付SDK
- 内容审核API
- 数据分析平台（如腾讯移动分析）

## 各阶段测试重点

### 第一阶段测试重点
- 核心流程测试（创建-编辑-保存）
- 基础兼容性测试
- 性能基准测试

### 第二阶段测试重点
- 功能完整性测试
- 用户体验测试
- 边界条件测试

### 第三阶段测试重点
- 协作场景测试
- 同步冲突测试
- 网络异常测试

### 第四阶段测试重点
- 支付流程测试
- 安全测试
- 压力测试

## 项目管理提示词

### 技术方案评审
```
请为画册模块第[X]阶段的[具体功能]设计方案进行评审：
1. 架构合理性评估
2. 性能影响分析
3. 扩展性考虑
4. 风险评估与应对
5. 技术选型依据
```

### 代码审查要点
```
请审查画册模块的[组件/页面]代码：
1. 代码规范符合度
2. 性能优化点
3. 错误处理完整性
4. 安全性考虑
5. 可维护性评估
```

### 上线前检查清单
```
画册模块第[X]阶段上线前检查：
1. [ ] 核心功能测试通过
2. [ ] 兼容性测试完成（iOS/Android，不同机型）
3. [ ] 性能指标达标（加载时间、内存占用）
4. [ ] 错误监控配置完成
5. [ ] 回滚方案准备
6. [ ] 文档更新完成
```

### 迭代回顾模板
```
画册模块第[X]阶段迭代回顾：
1. 完成的主要功能
2. 遇到的技术挑战与解决方案
3. 用户反馈总结
4. 性能数据对比
5. 下一阶段改进计划
```

---

**使用建议**：
- 每个阶段完成后进行用户测试和反馈收集
- 保持与主应用其他模块的兼容性
- 建立画册模块的独立错误监控
- 定期进行性能优化和代码重构

分阶段开发可以让团队有序推进，每个阶段都有明确的交付目标，同时保持系统的可扩展性和可维护性。